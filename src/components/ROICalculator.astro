---
// ROI Calculator Section Component
---

<section id="roi" class="container section-py">
    <div class="roi-container" style="background: var(--bg-surface); border-radius: var(--radius-lg); padding: 60px;">
        <div class="roi-wrapper">
            <div class="roi-controls">
                <span class="badge" style="background: var(--bg-body);">Calculator</span>
                <h2 style="font-size: 2.5rem; margin-bottom: 20px;">Proyeksi Pertumbuhan</h2>
                <p style="color: var(--text-muted); margin-bottom: 40px; font-size: 1.1rem;">Lihat potensi jangkauan brand Anda berdasarkan budget marketing saat ini.</p>
                
                <div class="range-group">
                    <div class="range-label">
                        <span>Budget Bulanan (IDR)</span>
                        <span id="budget-val" style="color: var(--accent-primary); font-weight: 700;">Rp 50.000.000</span>
                    </div>
                    <input type="range" id="slider-budget" min="10000000" max="500000000" step="10000000" value="50000000">
                </div>

                <div class="range-group">
                    <div class="range-label">
                        <span>Target Tier KOC</span>
                        <span style="font-size: 0.9rem; color: var(--text-muted);">Micro (10rb-50rb followers)</span>
                    </div>
                    <input type="range" disabled value="30" style="opacity: 0.3;">
                </div>
            </div>

            <div class="roi-result">
                <div class="result-card">
                    <div class="result-item">
                        <div class="label">Est. Jumlah Konten</div>
                        <div class="big-number" id="res-content">250</div>
                    </div>
                    <div class="result-divider"></div>
                    <div class="result-item">
                        <div class="label">Total Authentic Views</div>
                        <div class="big-number" id="res-views">1.2M+</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    const sliderBudget = document.getElementById('slider-budget');
    const budgetVal = document.getElementById('budget-val');
    const resContent = document.getElementById('res-content');
    const resViews = document.getElementById('res-views');

    function formatIDR(num) {
        return new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', maximumFractionDigits: 0 }).format(num);
    }

    function formatCompact(num) {
        return new Intl.NumberFormat('en-US', { notation: "compact", compactDisplay: "short" }).format(num);
    }

    function updateROI() {
        const budget = parseInt(sliderBudget.value);
        budgetVal.innerText = formatIDR(budget);

        const costPerContent = 200000;
        const avgViews = 3500;

        const contentCount = Math.floor(budget / costPerContent);
        const totalViews = contentCount * avgViews;

        resContent.innerText = contentCount;
        resViews.innerText = formatCompact(totalViews) + "+";
    }

    sliderBudget.addEventListener('input', updateROI);
    updateROI();
</script>

<style>
    .roi-wrapper {
        display: grid;
        grid-template-columns: 1.2fr 0.8fr;
        gap: 60px;
        align-items: center;
    }

    .range-group { margin-bottom: 32px; }
    .range-label { display: flex; justify-content: space-between; margin-bottom: 12px; font-weight: 500; font-family: 'Manrope', sans-serif; }
    
    input[type=range] {
        width: 100%;
        height: 4px;
        background: var(--border-light);
        border-radius: 4px;
        -webkit-appearance: none;
    }
    input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 24px;
        height: 24px;
        background: var(--text-main);
        border-radius: 50%;
        cursor: pointer;
        border: 4px solid var(--bg-body);
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    .result-card {
        background: var(--bg-body);
        padding: 40px;
        border-radius: var(--radius-lg);
        border: 1px solid var(--border-light);
        text-align: center;
    }

    .result-item { padding: 20px 0; }
    .result-divider { height: 1px; background: var(--border-light); margin: 10px 0; }

    .label { font-size: 0.9rem; color: var(--text-muted); margin-bottom: 8px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.05em; }
    
    .big-number {
        font-size: 3.5rem;
        font-weight: 800;
        color: var(--text-main);
        font-family: 'Manrope', sans-serif;
        line-height: 1;
    }

    @media (max-width: 1024px) {
        .roi-wrapper { grid-template-columns: 1fr; gap: 40px; }
        .roi-container { padding: 40px 24px !important; }
        .big-number { font-size: 2.5rem; }
    }
</style>
